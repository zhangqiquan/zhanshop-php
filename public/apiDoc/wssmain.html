<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta content="yinqi" name="author">
    <link href="/apiDoc/css/bootstrap.min.css" rel="stylesheet">
    <link href="/apiDoc/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="/apiDoc/css/animate.css" rel="stylesheet">
    <link href="/apiDoc/css/style.min.css" rel="stylesheet">
    <style>
        * {
            line-height: 1.8em;
        }
    </style>
</head>

<body>
<div class="container-fluid p-t-15">

    <div class="row">
        <div class="col-lg-12">
            <div class="card">


                <div class="card-header">
                    <h2>请求示例</h2>
                </div>
                <div class="card-body">
							<pre><code>
var WbSocket = new WebSocket(address);
// 收到服务器消息回调方法
WbSocket.onmessage = function (res)
{
    if(res.data == 'ping') return true; // ping为心跳通知
    // 前端收到消息的业务逻辑处理
};
// 当与服务器连接被断开的回调方法
WbSocket.onclose = function(res)
{
};
// 当连接发送错误的回调方法
WbSocket.onerror = function(error)
{
    console.error(error);
';
};

// 公共消息发送方法封装
function sendMsg(uri, data){
    var sendData = {
        "uri" : event,
        "data" : data
    };
    WbSocket.send(JSON.stringify(sendData));
}
                </code></pre>

                </div>


            </div>

            <div class="card">


                <div class="card-header">
                    <h2>返回示例</h2>
                </div>
                <div class="card-body">
							<pre><code>
{

    code: 0, // 错误码非0都属于异常
    msg: "成功", // 错误信息
    data: {}, // 请求数据
    url: "",
    time: 1619339265.113504, // 请求时候的服务器带微妙时间

}
                </code></pre>

                </div>


            </div>
        </div>

    </div>

</div>




</body>
</html>
